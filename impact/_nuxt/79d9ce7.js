(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{1073:function(e,t,n){"use strict";n(878)},1074:function(e,t,n){var r=n(10)(!1);r.push([e.i,"",""]),e.exports=r},1317:function(e,t,n){"use strict";n.r(t);n(26),n(13),n(29),n(30),n(31);var r=n(3),o=(n(19),n(7),n(20),n(14),n(9));function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,f=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){f=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(f)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var f={components:{ElForm:o.Form,ElFormItem:o.FormItem,ElInput:o.Input,ElAutocomplete:o.Autocomplete},data:function(){return{}},computed:{rules:function(){return{inn:[{required:!0,message:this.__locale("project-form-fill-field")}],company:[{required:!0,message:this.__locale("project-form-fill-field")}],country:[{required:!0,message:this.__locale("project-form-fill-field")}],city:[{required:!0,message:this.__locale("project-form-fill-field")}]}}},methods:{searchCompanies:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$store.dispatch("project/SEARCH_COMPANIES",{searchQuery:e});case 2:o=r.sent,t(o);case 4:case"end":return r.stop()}}),r)})))()},handleInnSelect:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,f,m,d,h,y,_,v,j;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.__loading(!0),n.next=3,t.$store.dispatch("project/GET_COMPANY_BY_OGRN",{ogrn:e.ogrn});case 3:if(r=n.sent,t.__loading(!1),t.gProjectForm.country="Россия",t.gProjectForm.company=r.name,t.gProjectForm.inn=r.inn,t.gProjectForm.city=r.location.locality,r.accounting){o=Object.keys(r.accounting).splice(Object.keys(r.accounting).length-3,3),l=c(o);try{for(l.s();!(f=l.n()).done;)m=f.value,t.gProjectForm[m+" Выручка"]=r.accounting[m][2110],t.gProjectForm[m+" Чистая прибыль"]=r.accounting[m][2400],t.gProjectForm.accounting.push("".concat(m,": Выручка - ").concat(r.accounting[m][2110]," руб., Чистая прибыль (убыток) - ").concat(r.accounting[m][2400]," руб."))}catch(e){l.e(e)}finally{l.f()}}if(r.founders){if(r.founders.russian_organizations){d=c(r.founders.russian_organizations);try{for(d.s();!(h=d.n()).done;)(y=h.value).share&&t.gProjectForm.founders.push("".concat(y.full_name," - ").concat(y.inn,", share: ").concat(y.share.nominal_value," RUB/").concat(y.share.percentage,"%"))}catch(e){d.e(e)}finally{d.f()}}if(r.founders.people){_=c(r.founders.people);try{for(_.s();!(v=_.n()).done;)(j=v.value).share&&t.gProjectForm.founders.push("".concat(j.name," - ").concat(j.inn,", share: ").concat(j.share.nominal_value," RUB/").concat(j.share.percentage,"%"))}catch(e){_.e(e)}finally{_.f()}}}case 11:case"end":return n.stop()}}),n)})))()},initFocus:function(){this.$refs.inn.focus()},validate:function(){var e=this;return new Promise((function(t){e.$refs.form.validate((function(e){t(e)}))}))}}},m=(n(1073),n(4)),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__form-main"},[n("el-form",{ref:"form",attrs:{model:e.gProjectForm,rules:e.rules}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-autocomplete",{attrs:{"fetch-suggestions":e.searchCompanies,placeholder:e.__locale("project-form-ogrn"),debounce:700,"trigger-on-focus":!1},on:{select:e.handleInnSelect},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",{staticClass:"suggest__item"},[n("div",{staticClass:"name",domProps:{innerHTML:e._s(r.content.replace("href","data-href"))}})])]}}]),model:{value:e.gProjectForm.company,callback:function(t){e.$set(e.gProjectForm,"company",t)},expression:"gProjectForm.company"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"web"}},[n("el-input",{ref:"web",attrs:{placeholder:e.__locale("project-form-website")},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.__handleEnter()}},model:{value:e.gProjectForm.web,callback:function(t){e.$set(e.gProjectForm,"web",t)},expression:"gProjectForm.web"}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},878:function(e,t,n){var content=n(1074);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(11).default)("65ac76e1",content,!0,{sourceMap:!1})}}]);