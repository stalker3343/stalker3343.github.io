(window.webpackJsonp=window.webpackJsonp||[]).push([[261,27,211],{1164:function(t,e,r){"use strict";r(949)},1165:function(t,e,r){var o=r(10)(!1);o.push([t.i,'.el-switch{display:inline-flex;align-items:center;position:relative;font-size:14px;line-height:20px;height:20px;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__core,.el-switch__label{display:inline-block;cursor:pointer;vertical-align:middle}.el-switch__label{transition:.2s;height:20px;font-size:14px;font-weight:500;color:#303133}.el-switch__label.is-active{color:#409eff}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{line-height:1;font-size:14px;display:inline-block}.el-switch__input{position:absolute;width:0;height:0;opacity:0;margin:0}.el-switch__core{margin:0;position:relative;width:40px;height:20px;border:1px solid #dcdfe6;outline:0;border-radius:10px;box-sizing:border-box;background:#dcdfe6;transition:border-color .3s,background-color .3s}.el-switch__core:after{content:"";position:absolute;top:1px;left:1px;border-radius:100%;transition:all .3s;width:16px;height:16px;background-color:#fff}.el-switch.is-checked .el-switch__core{border-color:#409eff;background-color:#409eff}.el-switch.is-checked .el-switch__core:after{left:100%;margin-left:-17px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter,.el-switch .label-fade-leave-active{opacity:0}.page__user-application{padding-top:50px}.page__user-application .container{padding-bottom:100px}.page__user-application .index-room{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.page__user-application .index-room .el-form-item{width:calc(50% - 10px)}.address-switch{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.address-switch span{margin-right:20px;display:block}',""]),t.exports=o},1344:function(t,e,r){"use strict";r.r(e);var o=r(6),n=r(3),l=(r(19),r(7),r(13),r(15),r(16),r(17),r(14),r(9));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={directives:{},components:{ElForm:l.Form,ElFormItem:l.FormItem,ElSwitch:l.Switch},data:function(){var t=this;return{showRegistrationAddress:!1,showPostalAddress:!1,timeout:null,sameAddress:!1,form:{fullName:"",familyName:"",givenName:"",fatherName:"",dob:"2020-01-01",passport:null,passportRegistrar:null,passportIssueDate:null,registrationAddress:null,registrationIndex:null,registrationCity:null,registrationRoom:null,registrationBuilding:null,registrationStreet:null,registrationCountry:null,postalAddress:null,postalIndex:null,postalCity:null,postalRoom:null,postalBuilding:null,postalStreet:null,postalCountry:null},rules:{passport:[{required:!0,validator:function(e,r,o){r?r.length<10?o(new Error(t.__locale("enter-valid-passport-number"))):o():o(new Error(t.__locale("enter-passport-number")))},trigger:["blur","change"]}],passportRegistrar:[{required:!0,validator:function(e,r,o){r?o():o(new Error(t.__locale("enter-registrar-code")))},trigger:["blur","change"]}],passportIssueDate:[{required:!0,validator:function(e,r,o){r?o():o(new Error(t.__locale("enter-passport-issue-date")))},trigger:["blur","change"]}],registrationAddress:[{required:!0,validator:function(e,r,o){r?o():o(new Error(t.__locale("enter-registration-address")))},trigger:["blur","change"]}],postalAddress:[{required:!0,validator:function(e,r,o){r?o():o(new Error(t.__locale("enter-postal-address")))},trigger:["blur","change"]}]},nameSetOpened:!1}},computed:{today:function(){var t=new Date,e=t.getMonth()+1,dd=t.getDate();return t.getFullYear()+"-"+(e>9?"":"0")+e+"-"+(dd>9?"":"0")+dd}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.gAccount){e.next=5;break}t.initForm(),t.gAccount.registrationAddress===t.gAccount.postalAddress&&(t.sameAddress=!0),e.next=7;break;case 5:return e.next=7,t.$store.dispatch("auth/GET_ACCOUNT").then((function(e){e.account;t.initForm()})).catch((function(t){return console.log(t)}));case 7:case"end":return e.stop()}}),e)})))()},methods:{changeName:function(data){this.form.familyName=data.familyName,this.form.givenName=data.givenName,this.form.fatherName=data.fatherName},chooseRegistrationAddress:function(t){var data=t.data;this.form.registrationIndex=data.postal_code,this.form.registrationCity=data.city,this.form.registrationRoom=data.flat,this.form.registrationBuilding=data.house,this.form.registrationStreet=data.street,this.form.registrationCountry=data.country,this.showRegistrationAddress=!0},choosePostalAddress:function(t){var data=t.data;this.form.postalIndex=data.postal_code,this.form.postalCity=data.city,this.form.postalRoom=data.flat,this.form.postalBuilding=data.house,this.form.postalStreet=data.street,this.form.postalCountry=data.country,this.showPostalAddress=!0},initForm:function(){if(!this.gAccount)return!1;this.form.fullName=this.gAccount.familyName+" "+this.gAccount.givenName+" "+(this.gAccount.fatherName?this.gAccount.fatherName:""),this.form.familyName=this.gAccount.familyName,this.form.givenName=this.gAccount.givenName,this.form.fatherName=this.gAccount.fatherName,this.form.dob=this.__filterDate(this.gAccount.dob),this.form.passport=this.gAccount.passport,this.form.passportRegistrar=this.gAccount.passportRegistrar,this.form.passportIssueDate=this.__filterDate(this.gAccount.passportIssueDate),this.form.registrationAddress=this.gAccount.registrationAddress,this.form.registrationIndex=this.gAccount.registrationIndex,this.form.registrationCity=this.gAccount.registrationCity,this.form.registrationRoom=this.gAccount.registrationRoom,this.form.registrationBuilding=this.gAccount.registrationBuilding,this.form.registrationStreet=this.gAccount.registrationStreet,this.form.registrationCountry=this.gAccount.registrationCountry,this.form.postalAddress=this.gAccount.postalAddress,this.form.postalIndex=this.gAccount.postalIndex,this.form.postalCity=this.gAccount.postalCity,this.form.postalRoom=this.gAccount.postalRoom,this.form.postalBuilding=this.gAccount.postalBuilding,this.form.postalStreet=this.gAccount.postalStreet,this.form.postalCountry=this.gAccount.postalCountry,this.gAccount.postalIndex&&(this.showPostalAddress=!0),this.gAccount.registrationIndex&&(this.showRegistrationAddress=!0)},handleSubmit:function(){var t=this;this.$refs.form.validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.name.validate();case 2:o=e.sent,r&&o&&t.submit();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},submit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sameAddress&&(t.form.postalAddress=t.form.registrationAddress,t.form.postalIndex=t.form.registrationIndex,t.form.postalCity=t.form.registrationCity,t.form.postalRoom=t.form.registrationRoom,t.form.postalBuilding=t.form.registrationBuilding,t.form.postalStreet=t.form.registrationStreet,t.form.postalCountry=t.form.registrationCountry),form=d({},t.form),t.$cookies.get("partner")&&(form.partner=t.$cookies.get("partner")),e.next=5,t.$store.dispatch("auth/UPDATE_ACCOUNT",form).then((function(e){e&&t.__alert("success","Успешно","Данные сохранены")})).catch((function(t){return console.log(t)}));case 5:case"end":return e.stop()}}),e)})))()}}},f=(r(1164),r(4)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page__user-application"},[r("div",{staticClass:"container small"},[r("app-title",{attrs:{title:t.__locale("general-information")}}),t._v(" "),r("form-name",{ref:"name",on:{change:function(e){return t.changeName(e)}},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),t._v(" "),r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{prop:"dob"}},[r("app-input",{attrs:{type:"datepicker",placeholder:t.__locale("dob")},model:{value:t.form.dob,callback:function(e){t.$set(t.form,"dob",e)},expression:"form.dob"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"passport"}},[r("app-input",{attrs:{mask:["#### ######"],placeholder:t.__locale("passport-number")},model:{value:t.form.passport,callback:function(e){t.$set(t.form,"passport",e)},expression:"form.passport"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"passportRegistrar"}},[r("app-input",{attrs:{autocomplete:"",path:"dadata/GET_PASSPORT_REGISTRAR",params:{count:5},placeholder:t.__locale("registrar-code")},model:{value:t.form.passportRegistrar,callback:function(e){t.$set(t.form,"passportRegistrar",e)},expression:"form.passportRegistrar"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"passportIssueDate"}},[r("app-input",{attrs:{type:"datepicker",placeholder:t.__locale("passport-issue-date")},model:{value:t.form.passportIssueDate,callback:function(e){t.$set(t.form,"passportIssueDate",e)},expression:"form.passportIssueDate"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"registrationAddress"}},[r("app-input",{attrs:{autocomplete:"",path:"dadata/GET_ADDRESS",params:{count:5},placeholder:t.__locale("registration-address")},on:{choose:function(e){return t.chooseRegistrationAddress(e)}},model:{value:t.form.registrationAddress,callback:function(e){t.$set(t.form,"registrationAddress",e)},expression:"form.registrationAddress"}})],1),t._v(" "),t.showRegistrationAddress?[r("div",{staticClass:"index-room"},[r("el-form-item",{attrs:{prop:"registrationIndex"}},[r("app-input",{attrs:{mask:"######",placeholder:t.__locale("postal-index")},model:{value:t.form.registrationIndex,callback:function(e){t.$set(t.form,"registrationIndex",e)},expression:"form.registrationIndex"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"registrationRoom"}},[r("app-input",{attrs:{placeholder:t.__locale("room-office")},model:{value:t.form.registrationRoom,callback:function(e){t.$set(t.form,"registrationRoom",e)},expression:"form.registrationRoom"}})],1)],1)]:t._e(),t._v(" "),t.sameAddress?t._e():[r("el-form-item",{attrs:{prop:"postalAddress"}},[r("app-input",{attrs:{autocomplete:"",path:"dadata/GET_ADDRESS",params:{count:5},placeholder:"Почтовый адрес"},on:{choose:function(e){return t.choosePostalAddress(e)}},model:{value:t.form.postalAddress,callback:function(e){t.$set(t.form,"postalAddress",e)},expression:"form.postalAddress"}})],1),t._v(" "),t.showPostalAddress?[r("div",{staticClass:"index-room"},[r("el-form-item",{attrs:{prop:"postalIndex"}},[r("app-input",{attrs:{mask:"######",placeholder:t.__locale("postal-index")},model:{value:t.form.postalIndex,callback:function(e){t.$set(t.form,"postalIndex",e)},expression:"form.postalIndex"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"postalRoom"}},[r("app-input",{attrs:{placeholder:t.__locale("room-office")},model:{value:t.form.postalRoom,callback:function(e){t.$set(t.form,"postalRoom",e)},expression:"form.postalRoom"}})],1)],1)]:t._e()],t._v(" "),r("div",{staticClass:"address-switch"},[r("span",[t._v(t._s(t.__locale("postal-address-tips")))]),t._v(" "),r("el-switch",{model:{value:t.sameAddress,callback:function(e){t.sameAddress=e},expression:"sameAddress"}})],1)],2),t._v(" "),r("app-spacer"),t._v(" "),r("app-button",{staticClass:"button-bottom",attrs:{large:"",fill:""},on:{click:function(e){return t.handleSubmit()}}},[t._v("\n      "+t._s(t.__locale("save"))+"\n    ")])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AppTitle:r(558).default,FormName:r(293).default})},1507:function(t,e,r){"use strict";r.r(e);var o=r(1344).default,n=r(4),component=Object(n.a)(o,undefined,undefined,!1,null,null,null);e.default=component.exports},557:function(t,e,r){var content=r(560);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("df1750dc",content,!0,{sourceMap:!1})},558:function(t,e,r){"use strict";r.r(e);r(7),r(13),r(15),r(16),r(17);var o=r(6),n=r(8);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var c={props:{titleTag:{type:String,default:"h1"},title:{type:String,default:"Title"},link:{type:String,default:null},linkTitle:{type:String,default:"Link title"},linkTitleShort:{type:String,default:null}},data:function(){return{linkTitleShortLocal:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(n.d)("localization",["language"])),mounted:function(){this.linkTitleShort?this.linkTitleShortLocal=this.linkTitleShort:this.linkTitleShortLocal=this.__locale("link-title-short")}},d=(r(559),r(4)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"component__title"},[r("div",{staticClass:"title-text",class:["h1"!==t.titleTag?"small":""],domProps:{innerHTML:t._s("<"+t.titleTag+">"+t.title+"</"+t.titleTag+">")}}),t._v(" "),t.link?r("nuxt-link",{staticClass:"link",attrs:{to:"/"+t.language+t.link}},[r("span",{staticClass:"link-title"},[t._v(t._s(t.linkTitle))]),t._v(" "),r("span",{staticClass:"mobile-link-title"},[t._v(t._s(t.linkTitleShortLocal))]),t._v(" "),r("i",{staticClass:"fal fa-long-arrow-right"})]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},559:function(t,e,r){"use strict";r(557)},560:function(t,e,r){var o=r(10)(!1);o.push([t.i,".component__title{margin-bottom:30px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}@media (max-width:575px){.component__title{justify-content:space-between;margin-bottom:20px}}.component__title .link{margin-top:6px;margin-left:24px}@media (max-width:575px){.component__title .link .link-title,.component__title .link i{display:none}.component__title .link .mobile-link-title{display:block!important}}.component__title .link .mobile-link-title{display:none}.component__title .title-text{font-weight:600;font-size:40px;line-height:47px}@media (max-width:790px){.component__title .title-text{font-size:30px;line-height:32px}}@media (max-width:575px){.component__title .title-text{font-size:24px;line-height:30px}}.component__title .title-text.small{font-size:38px}",""]),t.exports=o},949:function(t,e,r){var content=r(1165);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("6db72eb4",content,!0,{sourceMap:!1})}}]);